win: resource
	cl src/*.cpp external/libraries/* build/windows/resource.res /Febin\luna.exe /I include /I external/include /std:c++latest /EHsc /W2 /MP /Ox
	del *.obj

standalone: resource
	cl src/*.cpp external/libraries/* build/windows/resource.res /Febin\luna.exe /I include /I external/include /std:c++latest /EHsc /W2 /MP /Ox /D LUNA_STANDALONE
	del *.obj

debug:
	cl src/*.cpp external/libraries/* /Febin\luna.exe /I include /I external/include /std:c++latest /EHsc /W2 /MP /D LUNA_DEBUG
	del *.obj

out-win: clean win
	md out\res
	xcopy /e /y bin out
	xcopy /e /y res out\res\*

out-standalone: clean standalone
	md out\res
	xcopy /e /y bin out
	xcopy /e /y res out\res\*

clean:
	if exist bin\Luna.exe del bin\Luna.exe
	if exist out rd /s /q out

resource:
	rc build/windows/resource.rc